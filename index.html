<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <title>Sorpresa para mi amor‚ù§Ô∏è</title>
</head>

<body>
    <div class="background">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
     </div>
     
     <h1>Feliz Cumplea√±os mi amor‚ù§Ô∏è</h1>
    
     <button class="btn-open">Precionar para Abrir</button>
   
     <p class="fixed-text">
        Un a√±o m√°s de vida, amor, y un a√±o m√°s a tu lado, celebrando lo incre√≠ble que eres. ‚ú®ü•∞

        Hoy es un d√≠a muy especial, tu amor y todo lo que significas para m√≠. ‚ù§Ô∏è
        
        Eres una mujer incre√≠blemente fuerte y apasionada, me lo has demostrado tantas veces. Te admiro profundamente por ser como eres, por ser t√∫ conmigo, por compartir tu esencia y tu amor. Me has ense√±ado a arriesgar, a seguir adelante y a cumplir mis sue√±os. ‚ù§Ô∏èüíû
        
        Me encanta que me compartas tus proyectos, tus dibujos, tus ideas. Me emociona verte tan apasionada por lo que haces, y me fascina todo lo que viene de ti. üíñ
        
        Vivo para amarte, para apoyarte y cuidarte. Sin ti, no habr√≠a vida para m√≠. ‚ù§Ô∏èü•∫
        
        Un recuerdo m√°s siendo tu cumplea√±os, y as√≠ ser√°n m√°s hasta que llegue el momento de no solo escribir estas palabras, sino dec√≠rtelas cerca de ti, mi amor. üíó
         
        Te amo mucho, much√≠simo, mi ni√±a.
        Feliz cumplea√±os. ‚ù§Ô∏è‚ù§Ô∏è‚ú®

    </p>

     <div class="overlay" id="overlay"></div>
     
     <div class="popup" id="popup">
         <div class="close-btn">&times;</div>
         
         <div class="carousel">
             <div class="slides">
                 <div class="slide active">
                     <img src="imagenes/1.png" alt="Imagen 1">
                     <div class="message">Recordando fotos ‚ù§Ô∏è 

                        T√∫ y nuestro peque√±o Tambor, mi vida, ya somos una familia. ‚ù§Ô∏èü§óüòöSolo falta que yo est√© con ustedes para estar completos. Cada d√≠a que pasa nos acerca m√°s a ese reencuentro. Te amo con todo mi ser, y pronto estaremos juntos. üòò"
                        
                    </div>
                 </div>
                 <div class="slide">
                     <img src="imagenes/2.png" alt="Imagen 2">
                     <div class="message">Recordando fotos ‚ù§Ô∏è

                        Como no recordar est√° foto mi vida ‚ù§Ô∏èüòé Es un reflejo del esfuerzo, la creatividad y el amor que pusiste en tu proyecto. Pero m√°s que el mu√±eco, lo que m√°s me encanta es quien lo hizo, porque detr√°s de cada creaci√≥n est√° tu talento y dedicaci√≥n ‚ù§Ô∏è
                     </div>
                 </div>
                 <div class="slide">
                     <img src="imagenes/3.png" alt="Imagen 3">
                     <div class="message">Recordando fotos ‚ù§Ô∏è

                        Mi foto ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è
                        No puedo dejar de mirarte, me tienes completamente enamorado ‚ù§Ô∏è‚ú®ü•∫
                        Ya quiero besarte esa carita hermosa, abrazarte fuerte y no soltarte jam√°s. ‚ù§Ô∏è‚ú®üòò El amarre ya est√° hecho üòéüíïüî•‚ú®
                     </div>
                 </div>
                 <div class="slide">
                     <img src="imagenes/4.png" alt="Imagen 4">
                     <div class="message">Recordando fotos ‚ù§Ô∏è

                        El collar ‚ù§Ô∏è‚ú®
                        Es una forma de decir que te pertenezco y t√∫ me perteneces a m√≠ üòöü§ó Pero m√°s all√° del collar, lo que realmente simboliza es mi amor por ti, un amor que no tiene l√≠mites‚ù§Ô∏èQuiero llevarte conmigo a donde sea, porque donde t√∫ est√©s, ah√≠ est√° mi lugar‚ù§Ô∏è
                     </div>
                 </div>
                 <div class="slide">
                     <img src="imagenes/5.png" alt="Imagen 5">
                     <div class="message">Recordando fotos ‚ù§Ô∏è

                        No hay nada que me haga m√°s feliz que verte sonre√≠r, y saber que soy el motivo de esa sonrisa me llena de alegr√≠a üíñQuiero estar contigo, disfrutar de cada momento juntos, compartir risas, abrazos y todo lo que la vida nos tiene preparado ü•∫ü•∞Pero s√© que pronto estaremos juntos, y ese ser√° el mejor de los momentos‚ù§Ô∏è
                     </div>
                 </div>
                 <div class="slide">
                     <img src="imagenes/6.png" alt="Imagen 6">
                     <div class="message">Recordando fotos ‚ù§Ô∏è

                        El dino ‚ù§Ô∏è‚ú®
                        Te quedo bello amor ‚ù§Ô∏èCuando era ni√±o, te hubiera pedido montones de juguetes, pero ahora me imagino algo a√∫n m√°s hermoso ‚ú®üòô Me pongo a pensar en los mu√±ecos que haras para L√≠a, nuestra ni√±a ‚ù§Ô∏èVer su carita cuando reciba el regalo, verla sonre√≠r y saber que es un mu√±eco hecho con amor‚ù§Ô∏è‚ú®
                     </div>
                 </div>
                 <div class="slide">
                     <img src="imagenes/7.png" alt="Imagen 7">
                     <div class="message">Recordando fotos ‚ù§Ô∏è

                        Me encantas m√°s y m√°s cada d√≠a ‚ù§Ô∏èSi pudiera, te robar√≠a el mundo entero y te llevar√≠a a un lugar solo para nosotros, donde cada segundo sea solo nuestro ‚ù§Ô∏èMe haces tan feliz, m√°s de lo que las palabras pueden expresar üíìü•∫La vida es mucho m√°s hermosa contigo a mi lado, y cada momento contigo es un regaloüíòüíò

                     </div>
                 </div>
             </div>
             
             <div class="controls">
                 <button class="control-btn prev">
                     <i class="fas fa-chevron-left"></i>
                 </button>
                 <button class="control-btn next">
                     <i class="fas fa-chevron-right"></i>
                 </button>
             </div>
             
             <div class="indicators"></div>
         </div>
     </div>
     <button class="control-btn prev"><i class="fas fa-chevron-left"></i></button>
     <button class="control-btn next"><i class="fas fa-chevron-right"></i></button>
     
      <!-- Agrega este elemento de audio (oculto) -->
      <audio id="background-music" src="musica.mp3"></audio>

     <script>
// Variable para controlar si el confeti ya ha sido activado
let confettiTriggered = false;

// Funci√≥n para el efecto confetti
function triggerConfetti() {
    // Si ya se activ√≥ el confeti, no hacer nada
    if (confettiTriggered) return;

    confettiTriggered = true; // Marcar que el confeti ya ha sido activado

    var duration = 300 * 1000; // 3 segundos de duraci√≥n
    var animationEnd = Date.now() + duration;
    var defaults = { 
        startVelocity: 10, 
        spread: 100, 
        ticks: 60, 
        zIndex: 105,
        colors: ['#FFD700', '#FF69B4', '#87CEEB', '#FF4500', '#FFFFFF']
    };

    function randomInRange(min, max) {
        return Math.random() * (max - min) + min;
    }

    var interval = setInterval(function() {
        var timeLeft = animationEnd - Date.now();

        if (timeLeft <= 0) {
            clearInterval(interval); // Detener el intervalo cuando se acabe el tiempo
        }

        var particleCount = 30 * (timeLeft / duration);
        // Confetti desde la izquierda
        confetti({ 
            ...defaults, 
            particleCount, 
            origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } 
        });
        // Confetti desde la derecha
        confetti({ 
            ...defaults, 
            particleCount, 
            origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } 
        });
    }, 200);
}


        document.addEventListener('DOMContentLoaded', function() {
            const btnOpen = document.querySelector('.btn-open');
            const overlay = document.getElementById('overlay');
            const popup = document.getElementById('popup');
            const closeBtn = document.querySelector('.close-btn');
            const slidesContainer = document.querySelector('.slides');
            const slides = document.querySelectorAll('.slide');
            const prevBtn = document.querySelector('.prev');
            const nextBtn = document.querySelector('.next');
            const indicatorsContainer = document.querySelector('.indicators');
            const music = document.getElementById('background-music');
            
            let isMusicPlaying = false;
            let currentSlide = 0;
            const totalSlides = slides.length;

             // Evento para abrir el carrusel y controlar m√∫sica
             btnOpen.addEventListener('click', function() {
                // Mostrar el carrusel
                overlay.style.display = 'block';
                popup.style.display = 'block';
                document.body.style.overflow = 'hidden';
                
                // Control de m√∫sica
                if(!isMusicPlaying) {
                    music.play()
                        .then(() => {
                            isMusicPlaying = true;
                            // Cambiar el texto del bot√≥n si quieres
                            btnOpen.textContent = 'üéµ Reproduciendo...';
                        })
                        .catch(e => {
                            console.log("Error al reproducir:", e);
                            // Si el autoplay falla, muestra alerta para hacer clic
                            if(confirm("Haz clic en 'Aceptar' para reproducir la m√∫sica")) {
                                music.play();
                                isMusicPlaying = true;
                                btnOpen.textContent = 'üéµ Reproduciendo...';
                            }
                        });
                }
                
                // Disparar confetti
                triggerConfetti();
            });

            // Crear indicadores
            for (let i = 0; i < totalSlides; i++) {
                const indicator = document.createElement('div');
                indicator.classList.add('indicator');
                if (i === 0) {
                    indicator.classList.add('active');
                }
                indicator.setAttribute('data-index', i);
                indicatorsContainer.appendChild(indicator);
                
                indicator.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    goToSlide(index);
                });
            }
            
            const indicators = document.querySelectorAll('.indicator');
            
            // Funci√≥n para ir a una diapositiva espec√≠fica
            function goToSlide(index) {
                if (index < 0) {
                    index = totalSlides - 1;
                } else if (index >= totalSlides) {
                    index = 0;
                }
                
                currentSlide = index;
                slidesContainer.style.transform = `translateX(-${currentSlide * 100}%)`;
                
                // Actualizar indicadores
                indicators.forEach((indicator, i) => {
                    indicator.classList.toggle('active', i === currentSlide);
                });
            }

            
            
            // Event listeners para los botones de navegaci√≥n
            prevBtn.addEventListener('click', function() {
                goToSlide(currentSlide - 1);
            });
            
            nextBtn.addEventListener('click', function() {
                goToSlide(currentSlide + 1);
            });
            
            // Event listeners para abrir y cerrar el popup
            btnOpen.addEventListener('click', function() {
                overlay.style.display = 'block';
                popup.style.display = 'block';
                document.body.style.overflow = 'hidden'; // Evitar scroll del body
                
                // Disparar confetti al abrir el carrusel
                triggerConfetti();
            });
            
            closeBtn.addEventListener('click', function() {
                overlay.style.display = 'none';
                popup.style.display = 'none';
                document.body.style.overflow = 'auto'; // Restaurar scroll
            });
            
            overlay.addEventListener('click', function() {
                overlay.style.display = 'none';
                popup.style.display = 'none';
                document.body.style.overflow = 'auto'; // Restaurar scroll
            });
            
            // Swipe para m√≥viles
            let touchStartX = 0;
            let touchEndX = 0;
            
            const carousel = document.querySelector('.carousel');
            
            carousel.addEventListener('touchstart', function(event) {
                touchStartX = event.changedTouches[0].screenX;
            }, { passive: true });
            
            carousel.addEventListener('touchend', function(event) {
                touchEndX = event.changedTouches[0].screenX;
                handleSwipe();
            }, { passive: true });
            
            function handleSwipe() {
                if (touchEndX < touchStartX - 50) {
                    // Swipe izquierda - siguiente diapositiva
                    goToSlide(currentSlide + 1);
                } else if (touchEndX > touchStartX + 50) {
                    // Swipe derecha - diapositiva anterior
                    goToSlide(currentSlide - 1);
                }
            }

            
            
            // Event listener para abrir el popup
            btnOpen.addEventListener('click', function() {
                overlay.style.display = 'block';
                popup.style.display = 'block';
                document.body.style.overflow = 'hidden';
                
                // Reproducir m√∫sica
                birthdaySong.play().catch(e => console.log("Auto-play prevented: ", e));
                
                // Disparar confetti
                triggerConfetti();
            });
            
            // Event listener para cerrar el popup
            closeBtn.addEventListener('click', function() {
                overlay.style.display = 'none';
                popup.style.display = 'none';
                document.body.style.overflow = 'auto';
                
                // Pausar m√∫sica
                birthdaySong.pause();
                birthdaySong.currentTime = 0; // Reiniciar la canci√≥n
            });

            // Teclado
            document.addEventListener('keydown', function(e) {
                if (popup.style.display === 'block') {
                    if (e.key === 'ArrowLeft') {
                        goToSlide(currentSlide - 1);
                    } else if (e.key === 'ArrowRight') {
                        goToSlide(currentSlide + 1);
                    } else if (e.key === 'Escape') {
                        overlay.style.display = 'none';
                        popup.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    }
                }
            });
        });
    </script>
</body>
</html>